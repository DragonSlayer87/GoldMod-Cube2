// displays commands list ( remade of "help" command )
// made by /BudSpencer (2016)
// much improved ( displays colors now )


enabled = 1

cmd_commandhelp = [
if ( = $enabled 0 ) [
pm $arg1 (format "^f1>>> ^f4This command is ^f2DISABLED^f4! ^f1<<<")
] [
if ( =s $arg2 "" ) [
res = ( getperm $arg1 )
none_cmd = "amsg beer cheater dl flagrun help info mmhelp mmsg motd nmsg np players pm priv pstats rules say stats"
master_cmd = "blist callops cb delban emute eunmute getip givemaster hmc irc kick kill listmaps locked map mlist mm mute open pause resume rqsm savemap smite spec specmsg time tm unmute veto warn whois"
admin_cmd = "ado auth cgbans delpban disc discall eval evalhelp fpban geoip giveadmin gtime imis loadmap mclients mspec nod pban pbanlist persist pig private rqsa seen smiteall specall stop syncauth unmspec"
if ( = $res 3 ) [
pm $arg1 ( format "^f1>>> ^f2Commands: ^f4%1 ^f0%2 ^f6%3 ^f1<<<" $none_cmd $master_cmd $admin_cmd )
] [
if ( = $res 2 ) [
pm $arg1 (format "^f1>>> ^f2Commands: ^f4%1 ^f0%2 ^f1<<<" $none_cmd $master_cmd )
] [
if ( = $res 1 ) [
pm $arg1 (format "^f1>>> ^f2Commands: ^f4%1 ^f1<<<" $none_cmd )
				]
			]
		]
	] [
		// show command help for specified commands
		help = (commandhelp $arg2)
		if (=s $help "") [
			(unknown_command $arg1 $arg2)
		] [
			pm $arg1 (usage $arg2)
			]
		]
	]
]




registercommand "help" cmd_commandhelp 1 "|s" "help (<command-name>) ^f2That command show's list of commands and displays help for commands by entering command name after #help ( like: #help <cmd> ( e.g.: #help beer )."