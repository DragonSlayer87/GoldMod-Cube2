// check privileges of all players
// made by /BudSpencer (2016)
// better than the old "priv" command with num,bers as permissions ( more userfriendly now)


enabled = 1

cmd_privileges = [
if ( = $enabled 0 ) [
pm $arg1 (format "^f1>>> ^f4This command is ^f2DISABLED^f4! ^f1<<<")
] [
all = ( allplayers )
looplist cn $all [
res = ( getperm $cn )
if ( > $cn 127 ) [
pm $arg1 (format "^f1>>> ^f4Player ^f2%1(%2) ^f4has ^f6invisible admin ^f4privileges. ^f1<<<" ( getname $cn ) ( getcn $cn) )
] [
if ( = $res 3 ) [
pm $arg1 ( format "^f1>>> ^f4Player ^f2%1(%2) ^f4has ^f6admin ^f4privileges^f4. ^f1<<<" ( getname $cn ) ( getcn $cn ) )
] [
if ( = $res 2 ) [
pm $arg1 (format "^f1>>> ^f4Player ^f2%1(%2) ^f4has ^f0master ^f4privileges. ^f1<<<" ( getname $cn ) ( getcn $cn ) )
] [
if ( = $res 1 ) [
pm $arg1 (format "^f1>>> ^f4Player ^f2%1(%2) ^f4has ^f7no advanced ^f4privileges. ^f1<<<" ( getname $cn ) ( getcn $cn ) )
						]
					]
				]
			]
		]
	]
]


registercommand "priv" cmd_privileges 1 "" "priv ^f2This little player command checks permissions of all players and display it in toggle console ( /toggleconsole or F11 to show it )."