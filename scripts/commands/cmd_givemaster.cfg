// give master rights to specified player on server
// modified by /BudSpencer (2016)


enabled = 1

cmd_givemaster = [
if ( = $enabled 0 ) [
	pm $arg1 (format "^f1>>> ^f4This command is ^f2DISABLED^f4! ^f1<<<")
	] [
	perm = ( getperm $arg1 )
	if ( = $arg1 $arg2 ) [
	if ( = $perm 3 ) [
	pm $arg1 (format "^f1>>> ^f4You've higher ^f2privileges ^f4than ^f0master^f4. ^f4You don't need an ^f2lower ^f4privilege. ^f1<<<")
	] [
	if ( = $perm 2 ) [
	pm $arg1 (format "^f1>>> ^f4Your already ^f0master^f4. ^f4You can't give your ^f2privileges ^f4to ^f2yourself^f4. ^f1<<<")
	] [
	if ( > $arg2 127 ) [
	] [
	pm $arg1 ( format "^f1>>> ^f4Oh, i think, a ^f2computer(bot) ^f4can't handle a ^f0master ^f4privilege. ^f1<<<")
	setmaster $arg2 1[
		pm $arg2 (format "^f1>>> ^f4The player ^f2%1(%2) ^f4was nicely, and passed his ^f0master ^f4privileges to you. ^f1<<< ^n^f1>>> ^f4Your privilege level has been ^f2raised ^f4to ^f0master^f4. ^f1<<<" (getname $arg1) $arg1)
		pm $arg1 (format "^f1>>> ^f4You passed ^f0master ^f4privileges to ^f2%1(%2)^f4. ^f1<<<"(getname $arg2) $arg2)
        say (format "^f1>>> ^f4The privilege level of ^f2%1(%2) ^f4has been ^f2raised ^f4to ^f0master^f4. ^f1<<<" (getname $arg2) $arg2)
        ircsay (format "^f1>>> ^f4The privilege level of ^f2%1(%2) ^f4has been ^f2raised ^f4to ^f0master^f4. ^f1<<<" (getname $arg2) $arg2)
		log (format ">>> The privilege level of %1(%2) has been raised to master. <<<" (getname $arg2) $arg2)
						]
					]
				]
			]
		]
	]
]

registercommand "givemaster" cmd_givemaster 2 "c" "givemaster <cn> ^f2That command transmits master rights to any player on server."
